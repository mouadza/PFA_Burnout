<div class="admin-user-details-container">
  <div class="page-header">
    <h1>Détails Utilisateur</h1>
  </div>

  <main class="content">
    <div *ngIf="isLoading" class="loading">
      <i class="fas fa-spinner fa-spin"></i> Chargement...
    </div>

    <div *ngIf="error" class="error">
      {{ error }}
    </div>

    <div *ngIf="!isLoading && !error && user" class="user-details">
      <div class="avatar-section">
        <div class="avatar">
          {{ (user.firstName?.[0] || '') + (user.lastName?.[0] || '') }}
        </div>
        <h2>{{ (user.firstName || '') + ' ' + (user.lastName || '') }}</h2>
        <p>{{ user.email }}</p>
      </div>

      <div class="approval-section">
        <div class="approval-card">
          <div class="approval-header">
            <i class="fas" [ngClass]="isApproved ? 'fa-check-circle' : 'fa-ban'"></i>
            <div>
              <h3>Approuver ce compte</h3>
              <p>{{ isApproved ? "L'utilisateur peut se connecter" : "L'utilisateur est bloqué" }}</p>
            </div>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" [checked]="isApproved" (change)="toggleApproval()" [disabled]="isSaving">
            <span class="slider"></span>
          </label>
        </div>
      </div>

      <div class="info-section">
        <div class="info-item">
          <i class="fas fa-briefcase"></i>
          <div>
            <span class="label">Profession</span>
            <span class="value">{{ user.profession || 'N/A' }}</span>
          </div>
        </div>
        <div class="info-item">
          <i class="fas fa-shield-alt"></i>
          <div>
            <span class="label">Rôle</span>
            <span class="value">{{ user.role || 'USER' }}</span>
          </div>
        </div>
        <div class="info-item">
          <i class="fas fa-key"></i>
          <div>
            <span class="label">ID Système</span>
            <span class="value">{{ user.id }}</span>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>

